{"ast":null,"code":"var _jsxFileName = \"F:\\\\PYCHARM\\\\DJANGO\\\\Django Rest API\\\\DjangoAPI\\\\frontend\\\\src\\\\Components\\\\ToDo.js\",\n    _s = $RefreshSig$();\n\n// import { Button } from \"@material-ui/core\";\n// import CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\n// import HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\n// import PublishIcon from \"@material-ui/icons/Publish\";\n// import EditIcon from \"@material-ui/icons/Edit\";\nimport { useEffect, useState } from \"react\"; // import Appbar from \"./Appbar\";\n\nimport { Modal, Col, Row, Form, Button } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ToDo = () => {\n  _s();\n\n  const [todoList, setTodoList] = useState([]);\n  const [activeItem, setActiveItem] = useState({\n    id: null,\n    title: \"\",\n    completed: false\n  });\n  const [editing, setEditing] = useState(false);\n\n  const getData = async () => {\n    const URL = `http://127.0.0.1:8000/api/task-list/`;\n    const response = await fetch(URL);\n    const data = await response.json();\n    setTodoList(data);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getCookie = name => {\n    let cookieValue = null;\n\n    if (document.cookie && document.cookie !== \"\") {\n      const cookies = document.cookie.split(\";\");\n\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim(); // Does this cookie string begin with the name we want?\n\n        if (cookie.substring(0, name.length + 1) === name + \"=\") {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  };\n\n  const handleChange = e => {\n    let value = e.target.value;\n    setActiveItem({ ...activeItem,\n      title: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const csrftoken = getCookie(\"csrftoken\");\n    let url = `http://127.0.0.1:8000/api/task-create/`;\n\n    if (editing === true) {\n      url = `http://127.0.0.1:8000/api/task-update/${activeItem.id}/`;\n      setEditing(false);\n    }\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken\n      },\n      body: JSON.stringify(activeItem)\n    }).then(response => {\n      getData();\n      setActiveItem({\n        id: null,\n        title: \"\",\n        completed: false\n      });\n    }).catch(error => {\n      console.log(\"Error: \" + error);\n    });\n  };\n\n  const startEdit = task => {\n    setActiveItem(task);\n    setEditing(true);\n  };\n\n  const deleteItem = task => {\n    const csrftoken = getCookie(\"csrftoken\");\n    let url = `http://127.0.0.1:8000/api/task-delete/${task.id}/`;\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken\n      }\n    }).then(response => {\n      getData();\n    }).catch(error => {\n      console.log(\"Error: \" + error);\n    });\n  };\n\n  const strikeItem = task => {\n    task.completed = !task.completed;\n    let url = `http://127.0.0.1:8000/api/task-update/${task.id}/`;\n    const csrftoken = getCookie(\"csrftoken\");\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken\n      },\n      body: JSON.stringify({\n        completed: task.completed,\n        title: task.title\n      })\n    }).then(response => {\n      getData();\n    }).catch(error => {\n      console.log(\"Error: \" + error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-center my-heading\",\n          children: \"My ToDo List App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"inputDiv d-flex justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forhr\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"item\",\n              placeholder: \"Add an item\",\n              onChange: handleChange,\n              value: activeItem.title,\n              autoFocus: true,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"p-0 m-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btnDiv\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              \"data-toggle\": \"tooltip\",\n              \"data-placement\": \"right\",\n              title: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Output px-4 py-3\",\n          children: todoList.map((val, ind) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"each-todo row my-3 py-2 px-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-9 col-12 py-1\",\n                children: val.completed === false ? /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"my-0 py-1\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    style: {\n                      textDecoration: \"none\"\n                    },\n                    to: \"/\" + val.id,\n                    children: val.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 12\n                }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"my-0 py-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"strike\", {\n                    children: val.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-1 col-4 d-flex flex-row align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-sm btn-success\",\n                  onClick: () => strikeItem(val),\n                  \"data-toggle\": \"tooltip\",\n                  \"data-placement\": \"right\",\n                  title: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-1 col-4 d-flex flex-row align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-sm btn-primary\",\n                  onClick: () => startEdit(val),\n                  \"data-toggle\": \"tooltip\",\n                  \"data-placement\": \"right\",\n                  title: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-1 col-4 d-flex flex-row align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-sm btn-danger\",\n                  onClick: () => deleteItem(val),\n                  \"data-toggle\": \"tooltip\",\n                  \"data-placement\": \"right\",\n                  title: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 10\n              }, this)]\n            }, ind, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 9\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(ToDo, \"LZYk2tZ0hdHNRho9tAnJE4iLvhM=\");\n\n_c = ToDo;\nexport default ToDo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToDo\");","map":{"version":3,"sources":["F:/PYCHARM/DJANGO/Django Rest API/DjangoAPI/frontend/src/Components/ToDo.js"],"names":["useEffect","useState","Modal","Col","Row","Form","Button","Link","ToDo","todoList","setTodoList","activeItem","setActiveItem","id","title","completed","editing","setEditing","getData","URL","response","fetch","data","json","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","handleChange","e","value","target","handleSubmit","preventDefault","csrftoken","url","method","headers","body","JSON","stringify","then","catch","error","console","log","startEdit","task","deleteItem","strikeItem","map","val","ind","textDecoration"],"mappings":"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","sourcesContent":["// import { Button } from \"@material-ui/core\";\r\n// import CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\n// import HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n// import PublishIcon from \"@material-ui/icons/Publish\";\r\n// import EditIcon from \"@material-ui/icons/Edit\";\r\nimport { useEffect, useState } from \"react\";\r\n// import Appbar from \"./Appbar\";\r\nimport {Modal, Col, Row, Form, Button} from 'react-bootstrap';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ToDo = () => {\r\n\tconst [todoList, setTodoList] = useState([]);\r\n\tconst [activeItem, setActiveItem] = useState({\r\n\t\tid: null,\r\n\t\ttitle: \"\",\r\n\t\tcompleted: false,\r\n\t});\r\n\tconst [editing, setEditing] = useState(false);\r\n\r\n\tconst getData = async () => {\r\n\t\tconst URL = `http://127.0.0.1:8000/api/task-list/`;\r\n\t\tconst response = await fetch(URL);\r\n\t\tconst data = await response.json();\r\n\r\n\t\tsetTodoList(data);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t}, []);\r\n\r\n\tconst getCookie = (name) => {\r\n\t\tlet cookieValue = null;\r\n\t\tif (document.cookie && document.cookie !== \"\") {\r\n\t\t\tconst cookies = document.cookie.split(\";\");\r\n\t\t\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\t\t\tconst cookie = cookies[i].trim();\r\n\t\t\t\t// Does this cookie string begin with the name we want?\r\n\t\t\t\tif (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n\t\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cookieValue;\r\n\t};\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tlet value = e.target.value;\r\n\r\n\t\tsetActiveItem({\r\n\t\t\t...activeItem,\r\n\t\t\ttitle: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst csrftoken = getCookie(\"csrftoken\");\r\n\r\n\t\tlet url = `http://127.0.0.1:8000/api/task-create/`;\r\n\r\n\t\tif (editing === true) {\r\n\t\t\turl = `http://127.0.0.1:8000/api/task-update/${activeItem.id}/`;\r\n\t\t\tsetEditing(false);\r\n\t\t}\r\n\r\n\t\tfetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\t\"X-CSRFToken\": csrftoken,\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(activeItem),\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tgetData();\r\n\t\t\t\tsetActiveItem({\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tcompleted: false,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error: \" + error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst startEdit = (task) => {\r\n\t\tsetActiveItem(task);\r\n\t\tsetEditing(true);\r\n\t};\r\n\r\n\tconst deleteItem = (task) => {\r\n\t\tconst csrftoken = getCookie(\"csrftoken\");\r\n\t\tlet url = `http://127.0.0.1:8000/api/task-delete/${task.id}/`;\r\n\r\n\t\tfetch(url, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\t\"X-CSRFToken\": csrftoken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tgetData();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error: \" + error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst strikeItem = (task) => {\r\n\t\ttask.completed = !task.completed;\r\n\r\n\t\tlet url = `http://127.0.0.1:8000/api/task-update/${task.id}/`;\r\n\t\tconst csrftoken = getCookie(\"csrftoken\");\r\n\r\n\t\tfetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\t\"X-CSRFToken\": csrftoken,\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ completed: task.completed, title: task.title }),\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tgetData();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error: \" + error);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t\r\n\t\t\t<div className='App'>\r\n\t\t\t\t<div className='card'>\r\n\t\t\t\t\t<h1 className='text-center my-heading'>My ToDo List App</h1>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tclassName='inputDiv d-flex justify-content-between'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className='forhr'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname='item'\r\n\t\t\t\t\t\t\t\tplaceholder='Add an item'\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tvalue={activeItem.title}\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<hr className='p-0 m-0' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='btnDiv'>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tdata-toggle='tooltip'\r\n\t\t\t\t\t\t\t\tdata-placement='right'\r\n\t\t\t\t\t\t\t\ttitle='Submit'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className='Output px-4 py-3'>\r\n\t\t\t\t\t\t{todoList.map((val, ind) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName='each-todo row my-3 py-2 px-3'\r\n\t\t\t\t\t\t\t\t\tkey={ind}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-9 col-12 py-1'>\r\n\t\t\t\t\t\t\t\t\t\t{val.completed === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='my-0 py-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={\"/\" + val.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{val.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='my-0 py-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strike>{val.title}</strike>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-1 col-4 d-flex flex-row align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-success'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => strikeItem(val)}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='tooltip'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-placement='right'\r\n\t\t\t\t\t\t\t\t\t\t\ttitle='Completed'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-1 col-4 d-flex flex-row align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => startEdit(val)}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='tooltip'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-placement='right'\r\n\t\t\t\t\t\t\t\t\t\t\ttitle='Edit'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-1 col-4 d-flex flex-row align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-danger'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteItem(val)}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='tooltip'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-placement='right'\r\n\t\t\t\t\t\t\t\t\t\t\ttitle='Delete'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ToDo;\r\n"]},"metadata":{},"sourceType":"module"}